<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@cto.af/linewrap</title><meta name="description" content="Documentation for @cto.af/linewrap"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@cto.af/linewrap</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@cto.af/linewrap</h2></div><div class="tsd-panel tsd-typography"><a id="md:ctoaflinewrap" class="tsd-anchor"></a><h1 class="tsd-anchor-link">@cto.af/linewrap<a href="#md:ctoaflinewrap" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Wrap lines using Unicode UAX #14 line breaking rules.</p>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@cto.af/linewrap</span>
</code><button type="button">Copy</button></pre>

<a id="md:cli" class="tsd-anchor"></a><h2 class="tsd-anchor-link">CLI<a href="#md:cli" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>A command line interface is available: <a href="https://github.com/cto-af/linewrap-cli">@cto.af/linewrap-cli</a></p>
<a id="md:api" class="tsd-anchor"></a><h2 class="tsd-anchor-link">API<a href="#md:api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="js"><span class="hl-3">import</span><span class="hl-1"> {</span><span class="hl-4">LineWrap</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@cto.af/linewrap&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">w</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">LineWrap</span><span class="hl-1">()</span><br/><span class="hl-4">w</span><span class="hl-1">.</span><span class="hl-0">wrap</span><span class="hl-1">(</span><span class="hl-2">&#39;Lorem ipsum dolor sit amet...&#39;</span><span class="hl-1">)  </span><span class="hl-7">// A string, wrapped to your console length</span><br/><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">line</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">w</span><span class="hl-1">.</span><span class="hl-0">lines</span><span class="hl-1">(</span><span class="hl-2">&#39;Lorem ipsum dolor sit amet...&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-7">// `line` does not have a newline at the end</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Full <a href="https://cto-af.github.io/linewrap/">API docs</a> are available.</p>
<a id="md:methods" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Methods<a href="#md:methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><dl>
<dt>wrap(string)</dt>
<dd>Sometimes, you just want text out of the wrapping operation, with newlines
between the lines.  Use <code>wrap()</code> for this.  Note that there is no
newline at the end of the wrapped text.</dd>
<dt>*lines(string)</dt>
<dd>Sometimes, you'll want the lines individually; perhaps you're streaming, or
integrating the lines with other content.  The <code>*lines()</code> method will
return a string generator, where each line is NOT ended with a newline.  The
<code>wrap()</code> method just calls <code>*lines()</code> and joins the result
with your configured newline string.</dd>
</dl>
<a id="md:options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Options<a href="#md:options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Options may be passed into the constructor in an object:</p>
<pre><code class="js"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">w</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">LineWrap</span><span class="hl-1">({ </span><span class="hl-4">width:</span><span class="hl-1"> </span><span class="hl-8">40</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<p>The following options are all optional, having the specified defaults:</p>
<dl>
<dt><code>ellipsis: string = 'â€¦'</code> (U+2026: HORIZONTAL ELLIPSIS)</dt>
<dd>String to use when long word is truncated with
<code>LineWrap.OVERFLOW_CLIP</code>.</dd>
<dt><code>example7: boolean = false</code></dt>
<dd>Turn on the extra rules for matching numbers from Example 7 of UAX #14</dd>
<dt><code>firstCol: number = NaN</code></dt>
<dd>If indentFirst is false, how many columns was the first line already indented?
If NaN, use the indent width, in graphemes.  If indentFirst is true, this is
ignored.</dd>
<dt><code>hyphen: string = '-'</code> (U+002D: HYPHEN-MINUS)</dt>
<dd>String to use when long word is split to next line with
<code>LineWrap.OVERFLOW_ANYWHERE</code>.</dd>
<dt><code>indent: number | string = ''</code> (empty string)</dt>
<dd>If a string, indent every line (except the first if indentFirst is false) with
that string.  If a number, insert that many <code>indentChar</code>s at the
beginning of each line.</dd>
<dt><code>includeANSI: boolean = false</code></dt>
<dd>If true, include ANSI escape sequences in the width of the string.  If false, strips ANSI before calculating width.</dd>
<dt><code>indentChar: string = ' '</code> (U+0020: SPACE)</dt>
<dd>If <code>indent</code> is a number, use that many of this string to indent.</dd>
<dt><code>indentEmpty: boolean = false</code></dt>
<dd>If the input string is empty, should we still indent?</dd>
<dt><code>indentFirst : boolean = true</code></dt>
<dd>Indent the first line?  If not, treat the first line as if it was already
indented, giving a short first line.  Use <code>firstCol</code> to control how
short the first line should be.</dd>
<dt><code>isCJK : boolean</code></dt>
<dd>Override the locale, forcing strings to be measured in a
Chinese/Japanese/Korean context or not.</dd>
<dt><code>isNewline : RegExp | null = /[^\S\r\n\v\f\x85\u2028\u2029]*[\r\n\v\f\x85\u2028\u2029]+\s*/gu</code></dt>
<dd>Regular expression that finds newlines for replacement with
<code>newlineReplacement</code>.  Ensure you do not create a regular expression
denial of service
(<a href='https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS'>ReDoS</a>)
attack.  Make sure the expression has the `g` modifier.  If null, no newline
replacement is done, and existing newlines will be maintained in the output, no
matter where they were originally.</dd>
<dt><code>locale: string =</code>
[system locale as determined by Intl.Segmenter]</dt>
<dd>Which locale to use when splitting by graphemes? May have a small effect in
some locales.  If you have experience with one of those locales, please file an
issue or PR with examples so this can be tested carefully.</dd>
<dt><code>newline: string = '\n'</code></dt>
<dd>String used to separate lines in the <code>wrap()</code> method.</dd>
<dt><code>newlineReplacement: string = ' '</code></dt>
<dd>For every newline found with <code>isNewline</code>, replace with this
string.</dd>
<dt><code>overflow: Symbol = LineWrapOptions.OVERFLOW_VISIBLE</code></dt>
<dd>What to do with words that are longer than the available width?  There are
three options:
  <ul>
    <li><code>LineWrapOptions.OVERFLOW_VISIBLE</code>: If a word is longer than
    the wrappable area, allow the word to go extend past the width so that it is
    not broken.  This is the only way for long URLs to still be clickable.</li>
    <li><code>LineWrapOptions.OVERFLOW_CLIP</code>: If a word is longer than the
    wrappable area, cut it to size, dropping the rest of the word, inserting an
    ellipsis at the end.</li>
    <li><code>LineWrapOptions.OVERFLOW_ANYWHERE</code>: If a word is longer than
    the wrappable area, split it into chunks that do fit, inserting a hyphen at
    the end of each line.</li>
  </ul>
</dd>
<dt><code>verbose : boolean = false</code></dt>
<dd>Enable output on stdout for deep diagnostic information.  Only useful for
debugging.</dd>
<dt><code>width: number = 80</code></dt>
<dd>Maximum number of graphemes per line, <b>including</b> indentation.</dd>
<dt><code>escape: (x: string) => string = (x) => x</code></dt>
<dd>Function to escape the input string. The escaping is performed after line
breaking and grapheme counting, with the intent that in the final display, those
escapes will be replaced appropriately.  Defaults to an identity transform.</dd>
</dl>
<a id="md:visual-representation-of-options" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Visual representation of options<a href="#md:visual-representation-of-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><img src="https://raw.githubusercontent.com/cto-af/linewrap/main/assets/visual.png" alt="Visual depiction of linewrap options"></p>
<hr>
<p><a href="https://github.com/cto-af/linewrap/actions/workflows/node.js.yml"><img src="https://github.com/cto-af/linewrap/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a>
<a href="https://codecov.io/gh/cto-af/linewrap"><img src="https://codecov.io/gh/cto-af/linewrap/branch/main/graph/badge.svg?token=rS0f3lhan5" alt="codecov"></a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:ctoaflinewrap"><span>@cto.af/linewrap</span></a><ul><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:cli"><span>CLI</span></a></li><li><a href="#md:api"><span>API</span></a></li><li><ul><li><a href="#md:methods"><span>Methods</span></a></li><li><a href="#md:options"><span>Options</span></a></li></ul></li><li><a href="#md:visual-representation-of-options"><span>Visual representation of options</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/cto-af/linewrap">GitHub</a><a href="http://cto-af.github.io/linewrap/">Documentation</a><a href="https://www.unicode.org/reports/tr14/">Spec</a></nav><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@cto.af/linewrap</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
